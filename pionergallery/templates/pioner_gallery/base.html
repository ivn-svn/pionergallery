{% load static %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">
    <title>Jumbotron example Â· Bootstrap v5.0</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/gallery.css' %}" rel="stylesheet">
    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/dashboard/">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/dashboard.css' %}" rel="stylesheet">

    {% block extra_css %}
    {% endblock extra_css %}


    <style>

        .page-contents {
            padding-left: 200px;
        }


        .content {
            margin-bottom: 75px;
            padding-top: 125px;
        }

        .custom-footer {
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
            position: relative; /* Make the footer a positioned element */
            z-index: 2; /* Set a higher z-index value so it appears on top */

        }

        body {
            margin: 0px !important;
            padding: 0px !important;
        }

        .custom-footer-links li {
            margin-right: 20px; /* Adjust the spacing between list items as needed */
        }

        .custom-footer-links a {
            color: #ffffff; /* Change the link color */
            text-decoration: none; /* Remove underline from links */
            font-size: 14px; /* Adjust the font size as needed */
            font-weight: bold; /* Optionally, make the links bold */
        }

        .custom-footer-links a:hover {
            color: #ffffcc; /* Change the link color on hover */

        }

        .smaller-footer {
            font-size: 80%;
        }

        /* Sticky footer styles */
        html, body {
            height: 100vh;
        }

        .container-fluid {
            min-height: 100%;
            flex-direction: column;
        }

        .content {
            flex: 1 0 auto;
            margin-bottom: 75px; /* Adjust this value based on the height of your footer */
            padding-top: 125px; /* Adjust this value based on the height of your navbar */
        }

        #sidebarMenu {
            position: fixed;
            top: 0;
            left: 0;
            width: 200px;
            height: calc(100vh);
            background-color: #f1f1f1;
            z-index: 1;
        }

        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }

        #sidebarMenu {
            background-color: #343a40; /* Bootstrap's dark background color */
        }

        #sidebarMenu .nav-link {
            color: #000000; /* Black color for default text */
            text-decoration: none;
        }

        #sidebarMenu .nav-link:hover {
            color: #6c757d; /* Bootstrap's dark gray color on hover */
            text-decoration: none;
        }

        #sidebarMenu .nav-link.active {
            color: #adb5bd; /* Bootstrap's light gray color for active link */
        }

        /* To ensure icons match the color of the text */
        #sidebarMenu .nav-link i {
            color: inherit;
        }

        /*.main-content-authenticated {*/
        /*    margin-left: 200px; !* Equal to the width of the sidebar *!*/
        /*    overflow-x: auto; !* This will hide any horizontal overflow *!*/
        /*}*/


    </style>
{% block additional_head %}
{% endblock additional_head %}
</head>
<body>


{% include 'pioner_gallery/navbar.html' %}


{% if not user_consent %}
<!-- Bootstrap-styled cookie consent banner -->
<div id="cookie-consent-banner" class="alert alert-warning fixed-bottom mb-0 rounded-0">
    <div class="container">
        <div class="d-flex justify-content-between">
            <div class="d-flex">
                <span class="mr-2">This website uses cookies to improve your experience.</span>
                <button id="accept-cookies" class="btn btn-success btn-sm" onclick="submitConsentDecision('accepted')">
                    Accept
                </button>
                <button id="decline-cookies" class="btn btn-danger btn-sm ml-2"
                        onclick="submitConsentDecision('declined')">Decline
                </button>
            </div>

        </div>
    </div>
</div>
{% endif %}


<div class="container-fluid">

    <div class="content">
        {% if user.is_authenticated %}

        <div class="container-fluid">
            <div class="row">

                <!-- Sidebar -->
                <div id="sidebarMenu"
                     class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse main-content-authenticated">
                    <div class="position-sticky pt-3">
                        <ul class="nav flex-column">

                            <div id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                                <div class="position-sticky pt-3">
                                    <ul class="nav flex-column">
                                        <li class="nav-item">
                                            <a class="nav-link active" aria-current="page" href="{% url 'dashboard' %}">
                                                <span data-feather="home"></span>
                                                Dashboard
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            {% if request.user.is_authenticated %}
                                            <a class="nav-link" href="{% url 'user_gallery' request.user.username %}">
                                                <span data-feather="file"></span>
                                                My Gallery
                                            </a>
                                            {% endif %}
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'upload_photo' %}">
                                                <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                                     viewBox="0 0 512 512">
                                                    <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                                    <path d="M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"/>
                                                </svg>
                                                Upload images
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'add_to_cart' %}">
                                                <span data-feather="shopping-cart"></span>
                                                Shopping Cart
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'products' %}">
                                                <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                                     viewBox="0 0 576 512">
                                                    <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                                    <path d="M384 476.1L192 421.2V35.9L384 90.8V476.1zm32-1.2V88.4L543.1 37.5c15.8-6.3 32.9 5.3 32.9 22.3V394.6c0 9.8-6 18.6-15.1 22.3L416 474.8zM15.1 95.1L160 37.2V423.6L32.9 474.5C17.1 480.8 0 469.2 0 452.2V117.4c0-9.8 6-18.6 15.1-22.3z"/>
                                                </svg>
                                                Products Gallery
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="#">
                                                <span data-feather="users"></span>
                                                Customers
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'marketplace' %}">
                                                <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                                     viewBox="0 0 512 512">
                                                    <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                                    <path d="M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm320 96c0-26.9-16.5-49.9-40-59.3V88c0-13.3-10.7-24-24-24s-24 10.7-24 24V292.7c-23.5 9.5-40 32.5-40 59.3c0 35.3 28.7 64 64 64s64-28.7 64-64zM144 176a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm-16 80a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm288 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM400 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"/>
                                                </svg>
                                                Dashboard
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'media_planner' %}">
                                                <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                                     viewBox="0 0 512 512">
                                                    <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                                    <path d="M184 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H96c-35.3 0-64 28.7-64 64v16 48V448c0 35.3 28.7 64 64 64H416c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H376V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H184V24zM80 192H432V448c0 8.8-7.2 16-16 16H96c-8.8 0-16-7.2-16-16V192zm176 40c-13.3 0-24 10.7-24 24v48H184c-13.3 0-24 10.7-24 24s10.7 24 24 24h48v48c0 13.3 10.7 24 24 24s24-10.7 24-24V352h48c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V256c0-13.3-10.7-24-24-24z"/>
                                                </svg>
                                                Planner
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'calendar_view' %}"> <span
                                                    data-feather="calendar"></span>
                                                Calendar
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'calendar_horizontal' %}">
                                                <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                                     viewBox="0 0 448 512">
                                                    <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                                    <path d="M128 136c0-22.1-17.9-40-40-40L40 96C17.9 96 0 113.9 0 136l0 48c0 22.1 17.9 40 40 40H88c22.1 0 40-17.9 40-40l0-48zm0 192c0-22.1-17.9-40-40-40H40c-22.1 0-40 17.9-40 40l0 48c0 22.1 17.9 40 40 40H88c22.1 0 40-17.9 40-40V328zm32-192v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V136c0-22.1-17.9-40-40-40l-48 0c-22.1 0-40 17.9-40 40zM288 328c0-22.1-17.9-40-40-40H200c-22.1 0-40 17.9-40 40l0 48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V328zm32-192v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V136c0-22.1-17.9-40-40-40l-48 0c-22.1 0-40 17.9-40 40zM448 328c0-22.1-17.9-40-40-40H360c-22.1 0-40 17.9-40 40v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V328z"/>
                                                </svg>
                                                Calendar Horizontal View
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'map' %}">
                                                <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                                     viewBox="0 0 576 512">
                                                    <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                                    <path d="M0 480V109.5l192-55.1v366.6zm208-366.6L16 109.5V32h192v80.4zm160 0l-192 55.1V32h192v80.4zM576 32v80.4L384 32v366.6l192 55.1V32zM288 32v366.6l192 55.1V87.5z"/>
                                                </svg>
                                                Event Map
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'social_graph' %}">
                                                <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                                     viewBox="0 0 512 512">
                                                    <!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                                    <path d="M418.4 157.9c35.3-8.3 61.6-40 61.6-77.9c0-44.2-35.8-80-80-80c-43.4 0-78.7 34.5-80 77.5L136.2 151.1C121.7 136.8 101.9 128 80 128c-44.2 0-80 35.8-80 80s35.8 80 80 80c12.2 0 23.8-2.7 34.1-7.6L259.7 407.8c-2.4 7.6-3.7 15.8-3.7 24.2c0 44.2 35.8 80 80 80s80-35.8 80-80c0-27.7-14-52.1-35.4-66.4l37.8-207.7zM156.3 232.2c2.2-6.9 3.5-14.2 3.7-21.7l183.8-73.5c3.6 3.5 7.4 6.7 11.6 9.5L317.6 354.1c-5.5 1.3-10.8 3.1-15.8 5.5L156.3 232.2z"/>
                                                </svg>
                                                Social Graph
                                            </a>
                                        </li>

                                    </ul>
                                </div>
                            </div>

                        </ul>
                    </div>
                </div>

                <!-- Main Content -->
                <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                    {% if messages %}
                    <div class="messages">
                        {% for message in messages %}
                        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                        {% endfor %}
                    </div>
                    {% endif %}


                </main>
            </div>
        </div>
    </div>


    {% endif %}
    {% if not user.is_authenticated %}
    {% block cover %}{% endblock cover %}
    {% endif %}

    <div class="page-contents">

        {% block content %}{% endblock content %}
        {% block page_content %}{% endblock page_content %}
        {% block gallery %}{% endblock gallery %}
        {% block success %}{% endblock success %}
    </div>

</div>
</div>


<footer class="py-3 bg-dark text-light custom-footer smaller-footer"> <!-- Add the 'smaller-footer' class here -->
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <p>&copy; 2023. All rights reserved.</p>
            </div>
            <div class="col-md-6">
                <ul class="list-inline text-end custom-footer-links">
                    <li class="list-inline-item">
                        <a href="{% url 'privacy' %}">Privacy Policy</a>
                    </li>
                    <li class="list-inline-item">
                        <a href="{% url 'terms' %}">Terms of Service</a>
                    </li>
                    <li class="list-inline-item">
                        <a class="nav-link" href="{% url 'contact_page' %}">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>

<script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js"
        integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"
        integrity="sha384-zNy6FEbO50N+Cg5wap8IKA4M/ZnLJgzc6w2NqACZaK0u0FXfOWRRJOnQtpZun8ha"
        crossorigin="anonymous"></script>
<script src="{% static 'js/dashboard.js' %}"></script>
<script>
    function submitConsentDecision(decision) {
        fetch('/cookie-consent/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': getCookie('csrftoken')
            },
            body: JSON.stringify({consent: decision})
        })
            .then(response => {
                if (response.ok) {
                    hideBanner();
                } else {
                    console.error('Failed to submit cookie consent decision');
                }
            });
    }

    function hideBanner() {
        document.getElementById('cookie-consent-banner').style.display = 'none';
    }

    function getCookie(name) {
        let value = "; " + document.cookie;
        let parts = value.split("; " + name + "=");
        if (parts.length === 2) return parts.pop().split(";").shift();
    }
</script>
{% block additional_scripts %}
{% endblock additional_scripts %}

</body>
</html>
